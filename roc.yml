---
GENERATOR:
  PackageName: roc
  PackageDescription: "Package roc provides Go bindings for libroc"
  PackageLicense: "MIT"
  Options:
    SafeStrings: true
  Includes: ["roc/receiver.h", "roc/sender.h", "roc/log.h"]
  FlagGroups:
    - {name: "LDFLAGS", flags: [
      "-lroc",
    ]}

PARSER:
  SourcesPaths:
    - /usr/include/roc/address.h
    - /usr/include/roc/config.h
    - /usr/include/roc/context.h
    - /usr/include/roc/frame.h
    - /usr/include/roc/log.h
    - /usr/include/roc/platform.h
    - /usr/include/roc/receiver.h
    - /usr/include/roc/sender.h

TRANSLATOR:
  PtrTips:
    function:
      - {target: "^roc_address_init$", tips: [ref,0,ref,0]}
      - {target: "^roc_address_family$", tips: [ref]}
      - {target: "^roc_address_ip$", tips: [ref,arr]}
      - {target: "^roc_context", tips: [ref]}
      - {target: "^roc_receiver_open$", tips: [ref, ref]}
      - {target: "^roc_receiver_bind$", tips: [ref, 0, 0, ref]}
      - {target: "^roc_receiver_read$", tips: [ref, ref]}
      - {target: "^roc_receiver_close$", tips: [ref]}
      - {target: "^roc_sender_open$", tips: [ref, ref]}
      - {target: "^roc_sender_bind$", tips: [ref, ref]}
      - {target: "^roc_sender_connect$", tips: [ref, 0, 0, ref]}
      - {target: "^roc_sender_write$", tips: [ref, ref]}
      - {target: "^roc_sender_close$", tips: [ref]}
      - {target: "^roc_", tips: [sref, sref, sref, sref, sref]}
  ConstRules:
    defines: expand
  Rules:
    const:
      - {action: ignore, from: ROC_ADDRESS_SIZE}
      - {action: accept, from: "^ROC_"}
      - {action: replace, from: "^ROC_", to: }
      - {transform: lower}
      - {load: snakecase}
      - {transform: export}
    type:
      - {action: accept, from: "^roc_"}
      - {action: replace, from: "^roc_", to: }
      - {transform: lower}
      - {load: snakecase}
      - {transform: export}
      - {action: replace, from: "^Frame$", to: frame}
    function:
      - {action: accept, from: "^roc_"}
      - {action: replace, from: "^roc_", to: }
      - {transform: lower}
      - {load: snakecase}
      - {transform: unexport}
    private:
      - {transform: unexport}
